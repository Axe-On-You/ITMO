ORG 0x000

M_START: WORD 0x6C6
M_SIZE: WORD 0x019
RESULT_ADDR: WORD 0x400
RESULT_ADDR2: WORD 0x401
START_IDX: WORD 0x004

IDX: WORD 0x000
ADDR: WORD 0x000
RESULT_L: WORD 0xFFFF
RESULT_H: WORD 0xFFFF
ELEM_L: WORD 0x000
ELEM_H: WORD 0x000
TEMP: WORD 0x000

START: CLA
 NOT
 ST RESULT_L
 ST RESULT_H
 
 LD START_IDX
 ST IDX
 
CHECK: LD IDX
 SUB M_SIZE
 SUB START_IDX
 BPL FINISH
 
 LD IDX
 AND #1
 BEQ NEXT
 
 LD IDX
 SUB START_IDX
 
 ST TEMP
 ADD TEMP
 
 ADD M_START
 ST ADDR
 
 LD (ADDR)
 ST ELEM_L
 
 LD ADDR
 INC
 ST ADDR
 LD (ADDR)
 ST ELEM_H
 
 LD ELEM_L
 AND RESULT_L
 ST RESULT_L
 
 LD ELEM_H
 AND RESULT_H
 ST RESULT_H
 
NEXT: LD IDX
 INC
 ST IDX
 JUMP CHECK
 
FINISH: LD RESULT_L
 ST (RESULT_ADDR)
 
 LD RESULT_H
 ST (RESULT_ADDR2)
 
 HLT

; рубеж сдан на 6/10 Олечке Остапенко
; в очное написание была написана аналогичная программа
; за исключением 2-го NOT в блоке START (был написан по ошибке)
; на заочном исправлении нашел эту ошибку
